<app-nav></app-nav>
<div class="d-flex justify-content-center">
  <div class="col-md-6 col-lg-4 mt-2">
    <p class="text-center mt-2">Add Products</p>
    <form (ngSubmit)="addProduct()" class="p-4 border rounded" #productForm="ngForm" novalidate>

      <div class="mb-3">
        <label class="form-label">Enter Product Name</label>
        <input [(ngModel)]="product.ProductName" name="productName" class="form-control" placeholder="Enter name" required #productName="ngModel">
        <div *ngIf="productName.invalid && (productName.dirty || productName.touched)" class="text-danger">
          Product Name is required.
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Enter Product Description</label>
        <input [(ngModel)]="product.ProductDescription" name="ProductDescription" class="form-control" placeholder="Enter Description" required #productDescription="ngModel">
        <div *ngIf="productDescription.invalid && (productDescription.dirty || productDescription.touched)" class="text-danger">
          Product Description is required.
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Enter Price</label>
        <input [(ngModel)]="product.Price" name="Price" type="number" class="form-control" placeholder="Enter price" required #price="ngModel" min="0">
        <div *ngIf="price.invalid && (price.dirty || price.touched)" class="text-danger">
          Price is required and must be a positive number.
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Enter Product Quantity</label>
        <input [(ngModel)]="product.Stack_qty" name="Quantity" type="number" class="form-control" placeholder="Quantity" required #quantity="ngModel" min="1">
        <div *ngIf="quantity.invalid && (quantity.dirty || quantity.touched)" class="text-danger">
          Quantity is required and must be a positive number.
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Enter Product Image</label>
        <input (change)="onFileSelected($event)" name="productImage" type="file" placeholder="Image" class="form-control" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Enter Product Sizes</label>
        <div class="input-group">
          <input [(ngModel)]="newSize" name="newSize" class="form-control" placeholder="Enter Size" required #newSize="ngModel">
          <button type="button" class="btn btn-outline-secondary" (click)="addSize()">Add Size</button>
        </div>
        <ul class="list-group mt-2">
          <li class="list-group-item" *ngFor="let size of product.Size; let i = index">
            {{ size }}
            <button title="removeSize" type="button" class="btn-close float-end" (click)="removeSize(i)"></button>
          </li>
        </ul>
      </div>

      <button type="submit" class="btn w-100" [disabled]="productForm.invalid">Add Product</button>
    </form>
  </div>
</div>
